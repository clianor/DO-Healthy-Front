import{j as a}from"./jsx-runtime-BjG_zV1W.js";import{n as T}from"./image-ChyQtvS6.js";import{L as j}from"./link-Bg4X9uzR.js";import{u as D}from"./index-hC3NRYyC.js";import{R as w}from"./index-B1GeB8Nz.js";import{B as E}from"./button.ui-CCnMz6ch.js";import{C as L}from"./container.ui-CDt7v4Er.js";import{S as J,a as H,b as P,c as A,d as M,e as U}from"./sheet.ui-Bw0LI8pP.js";import{c as F}from"./cn-CytzSlOG.js";import{c as B}from"./createLucideIcon-B2mkThYZ.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),$=s=>{let n;const t=new Set,o=(f,i)=>{const p=typeof f=="function"?f(n):f;if(!Object.is(p,n)){const S=n;n=i??(typeof p!="object"||p===null)?p:Object.assign({},n,p),t.forEach(h=>h(n,S))}},r=()=>n,d={setState:o,getState:r,getInitialState:()=>v,subscribe:f=>(t.add(f),()=>t.delete(f))},v=n=s(o,r,d);return d},G=s=>$,K=s=>s;function X(s,n=K){const t=w.useSyncExternalStore(s.subscribe,()=>n(s.getState()),()=>n(s.getInitialState()));return w.useDebugValue(t),t}const W={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,STORYBOOK:"true"},O=new Map,b=s=>{const n=O.get(s);return n?Object.fromEntries(Object.entries(n.stores).map(([t,o])=>[t,o.getState()])):{}},Y=(s,n,t)=>{if(s===void 0)return{type:"untracked",connection:n.connect(t)};const o=O.get(t.name);if(o)return{type:"tracked",store:s,...o};const r={connection:n.connect(t),stores:{}};return O.set(t.name,r),{type:"tracked",store:s,...r}},q=(s,n={})=>(t,o,r)=>{const{enabled:l,anonymousActionType:g,store:d,...v}=n;let f;try{f=(l??(W?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return s(t,o,r);const{connection:i,...p}=Y(d,f,v);let S=!0;r.setState=(e,m,u)=>{const c=t(e,m);if(!S)return c;const y=u===void 0?{type:g||"anonymous"}:typeof u=="string"?{type:u}:u;return d===void 0?(i==null||i.send(y,o()),c):(i==null||i.send({...y,type:`${d}/${y.type}`},{...b(v.name),[d]:r.getState()}),c)};const h=(...e)=>{const m=S;S=!1,t(...e),S=m},x=s(r.setState,o,r);if(p.type==="untracked"?i==null||i.init(x):(p.stores[p.store]=r,i==null||i.init(Object.fromEntries(Object.entries(p.stores).map(([e,m])=>[e,e===p.store?x:m.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){const e=r.dispatch;r.dispatch=(...m)=>{e(...m)}}return i.subscribe(e=>{var m;switch(e.type){case"ACTION":if(typeof e.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return I(e.payload,u=>{if(u.type==="__setState"){if(d===void 0){h(u.state);return}Object.keys(u.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const c=u.state[d];if(c==null)return;JSON.stringify(r.getState())!==JSON.stringify(c)&&h(c);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(u)});case"DISPATCH":switch(e.payload.type){case"RESET":return h(x),d===void 0?i==null?void 0:i.init(r.getState()):i==null?void 0:i.init(b(v.name));case"COMMIT":if(d===void 0){i==null||i.init(r.getState());return}return i==null?void 0:i.init(b(v.name));case"ROLLBACK":return I(e.state,u=>{if(d===void 0){h(u),i==null||i.init(r.getState());return}h(u[d]),i==null||i.init(b(v.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return I(e.state,u=>{if(d===void 0){h(u);return}JSON.stringify(r.getState())!==JSON.stringify(u[d])&&h(u[d])});case"IMPORT_STATE":{const{nextLiftedState:u}=e.payload,c=(m=u.computedStates.slice(-1)[0])==null?void 0:m.state;if(!c)return;h(d===void 0?c:c[d]),i==null||i.send(null,u);return}case"PAUSE_RECORDING":return S=!S}return}}),x},Q=q,I=(s,n)=>{let t;try{t=JSON.parse(s)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}t!==void 0&&n(t)};function Z(s,n){let t;try{t=s()}catch{return}return{getItem:r=>{var l;const g=v=>v===null?null:JSON.parse(v,void 0),d=(l=t.getItem(r))!=null?l:null;return d instanceof Promise?d.then(g):g(d)},setItem:(r,l)=>t.setItem(r,JSON.stringify(l,void 0)),removeItem:r=>t.removeItem(r)}}const N=s=>n=>{try{const t=s(n);return t instanceof Promise?t:{then(o){return N(o)(t)},catch(o){return this}}}catch(t){return{then(o){return this},catch(o){return N(o)(t)}}}},V=(s,n)=>(t,o,r)=>{let l={storage:Z(()=>localStorage),partialize:e=>e,version:0,merge:(e,m)=>({...m,...e}),...n},g=!1;const d=new Set,v=new Set;let f=l.storage;if(!f)return s((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...e)},o,r);const i=()=>{const e=l.partialize({...o()});return f.setItem(l.name,{state:e,version:l.version})},p=r.setState;r.setState=(e,m)=>{p(e,m),i()};const S=s((...e)=>{t(...e),i()},o,r);r.getInitialState=()=>S;let h;const x=()=>{var e,m;if(!f)return;g=!1,d.forEach(c=>{var y;return c((y=o())!=null?y:S)});const u=((m=l.onRehydrateStorage)==null?void 0:m.call(l,(e=o())!=null?e:S))||void 0;return N(f.getItem.bind(f))(l.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==l.version){if(l.migrate){const y=l.migrate(c.state,c.version);return y instanceof Promise?y.then(_=>[!0,_]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var y;const[_,k]=c;if(h=l.merge(k,(y=o())!=null?y:S),t(h,!0),_)return i()}).then(()=>{u==null||u(h,void 0),h=o(),g=!0,v.forEach(c=>c(h))}).catch(c=>{u==null||u(void 0,c)})};return r.persist={setOptions:e=>{l={...l,...e},e.storage&&(f=e.storage)},clearStorage:()=>{f==null||f.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>g,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(v.add(e),()=>{v.delete(e)})},l.skipHydration||x(),h||S},ee=V,te=s=>({session:null,setSession:n=>s({session:n},!1,"setSession"),resetSession:()=>s({session:null},!1,"resetSession")}),ne=ee(te,{name:"session"}),re=Q(ne,{name:"Session Service"}),se=G()(re);function oe(s){return X(se,s)}const R=[{href:"/",text:"홈"},{href:"/recipes",text:"레시피"},{href:"/milfap",text:"밀프랩"},{href:"/recipes/disease",text:"질환별 식단"}];function Se(){const s=oe(n=>!!n.session);return a.jsx("header",{className:"border-b border-b-border px-8 py-4",children:a.jsx(L,{children:a.jsxs("nav",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-x-8",children:[a.jsx(j,{href:"/","aria-label":"홈으로 이동",children:a.jsx(T,{className:"invert",src:"/vercel.svg",alt:"",width:32,height:32})}),a.jsx("ul",{className:"hidden list-none items-center gap-x-8 lg:flex",children:R.map(({href:n,text:t})=>a.jsx("li",{children:a.jsx(C,{href:n,children:t})},n))})]}),a.jsx("div",{className:"hidden lg:flex",children:a.jsx(E,{asChild:!0,children:a.jsx(j,{href:s?"/auth/logout":"/auth/login",children:s?"로그아웃":"로그인"})})}),a.jsx("div",{className:"flex lg:hidden",children:a.jsxs(J,{children:[a.jsx(H,{asChild:!0,children:a.jsxs(E,{size:"icon",children:[a.jsx("span",{className:"sr-only",children:"메뉴 오픈"}),a.jsx(z,{"aria-hidden":!0})]})}),a.jsx(P,{children:a.jsxs(A,{children:[a.jsx(M,{children:a.jsx(j,{href:"/","aria-label":"홈으로 이동",children:a.jsx(T,{className:"invert",src:"/vercel.svg",alt:"",width:32,height:32})})}),a.jsx(U,{children:a.jsx("ul",{className:"mt-8 flex list-none flex-col items-start gap-y-4",children:R.map(({href:n,text:t})=>a.jsx("li",{children:a.jsx(C,{href:n,children:t})},n))})})]})})]})})]})})})}function C({href:s,children:n}){const o=D().pathname===s;return a.jsx(j,{href:s,className:F("px-1","text-sm font-medium","transition-colors","border-b-2 border-transparent",{"border-b-foreground text-foreground":o,"text-muted-foreground hover:border-b-foreground hover:text-foreground":!o}),"aria-current":o?"page":void 0,children:n})}export{Se as H,se as s};
