import{u as M,g as U}from"./index-hC3NRYyC.js";import{w as F,e as z}from"./index-Z5tTm0QU.js";import{R}from"./index-B1GeB8Nz.js";import{j as a}from"./jsx-runtime-BjG_zV1W.js";import{n as T}from"./image-ChyQtvS6.js";import{L as _}from"./link-Bg4X9uzR.js";import{B as C}from"./button.ui-CCnMz6ch.js";import{C as $}from"./container.ui-yFKm1zXC.js";import{S as G,a as K,b as X,c as W,d as Y,e as q}from"./sheet.ui-DV75tfE7.js";import{c as Q}from"./cn-CytzSlOG.js";import{c as Z}from"./createLucideIcon-B2mkThYZ.js";import"./image-context-Cqjqifin.js";import"./add-base-path-RabrT8BY.js";import"./index-DyFja7G4.js";import"./index-BAi9YrL4.js";import"./index-DVF2XGCm.js";import"./index-DzJ_GqfG.js";import"./index-BJJGc8wt.js";import"./index-Bi9wok0D.js";import"./tslib.es6-BUas5LQb.js";import"./x-DuZhaump.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ee=t=>{let r;const e=new Set,o=(m,i)=>{const S=typeof m=="function"?m(r):m;if(!Object.is(S,r)){const v=r;r=i??(typeof S!="object"||S===null)?S:Object.assign({},r,S),e.forEach(f=>f(r,v))}},s=()=>r,d={setState:o,getState:s,getInitialState:()=>p,subscribe:m=>(e.add(m),()=>e.delete(m))},p=r=t(o,s,d);return d},te=t=>ee,ne=t=>t;function re(t,r=ne){const e=R.useSyncExternalStore(t.subscribe,()=>r(t.getState()),()=>r(t.getInitialState()));return R.useDebugValue(e),e}const se={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,STORYBOOK:"true"},w=new Map,j=t=>{const r=w.get(t);return r?Object.fromEntries(Object.entries(r.stores).map(([e,o])=>[e,o.getState()])):{}},oe=(t,r,e)=>{if(t===void 0)return{type:"untracked",connection:r.connect(e)};const o=w.get(e.name);if(o)return{type:"tracked",store:t,...o};const s={connection:r.connect(e),stores:{}};return w.set(e.name,s),{type:"tracked",store:t,...s}},ie=(t,r={})=>(e,o,s)=>{const{enabled:l,anonymousActionType:y,store:d,...p}=r;let m;try{m=(l??(se?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!m)return t(e,o,s);const{connection:i,...S}=oe(d,m,p);let v=!0;s.setState=(n,h,u)=>{const c=e(n,h);if(!v)return c;const g=u===void 0?{type:y||"anonymous"}:typeof u=="string"?{type:u}:u;return d===void 0?(i==null||i.send(g,o()),c):(i==null||i.send({...g,type:`${d}/${g.type}`},{...j(p.name),[d]:s.getState()}),c)};const f=(...n)=>{const h=v;v=!1,e(...n),v=h},x=t(s.setState,o,s);if(S.type==="untracked"?i==null||i.init(x):(S.stores[S.store]=s,i==null||i.init(Object.fromEntries(Object.entries(S.stores).map(([n,h])=>[n,n===S.store?x:h.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){const n=s.dispatch;s.dispatch=(...h)=>{n(...h)}}return i.subscribe(n=>{var h;switch(n.type){case"ACTION":if(typeof n.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return O(n.payload,u=>{if(u.type==="__setState"){if(d===void 0){f(u.state);return}Object.keys(u.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const c=u.state[d];if(c==null)return;JSON.stringify(s.getState())!==JSON.stringify(c)&&f(c);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(u)});case"DISPATCH":switch(n.payload.type){case"RESET":return f(x),d===void 0?i==null?void 0:i.init(s.getState()):i==null?void 0:i.init(j(p.name));case"COMMIT":if(d===void 0){i==null||i.init(s.getState());return}return i==null?void 0:i.init(j(p.name));case"ROLLBACK":return O(n.state,u=>{if(d===void 0){f(u),i==null||i.init(s.getState());return}f(u[d]),i==null||i.init(j(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return O(n.state,u=>{if(d===void 0){f(u);return}JSON.stringify(s.getState())!==JSON.stringify(u[d])&&f(u[d])});case"IMPORT_STATE":{const{nextLiftedState:u}=n.payload,c=(h=u.computedStates.slice(-1)[0])==null?void 0:h.state;if(!c)return;f(d===void 0?c:c[d]),i==null||i.send(null,u);return}case"PAUSE_RECORDING":return v=!v}return}}),x},ae=ie,O=(t,r)=>{let e;try{e=JSON.parse(t)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}e!==void 0&&r(e)};function ce(t,r){let e;try{e=t()}catch{return}return{getItem:s=>{var l;const y=p=>p===null?null:JSON.parse(p,void 0),d=(l=e.getItem(s))!=null?l:null;return d instanceof Promise?d.then(y):y(d)},setItem:(s,l)=>e.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>e.removeItem(s)}}const N=t=>r=>{try{const e=t(r);return e instanceof Promise?e:{then(o){return N(o)(e)},catch(o){return this}}}catch(e){return{then(o){return this},catch(o){return N(o)(e)}}}},le=(t,r)=>(e,o,s)=>{let l={storage:ce(()=>localStorage),partialize:n=>n,version:0,merge:(n,h)=>({...h,...n}),...r},y=!1;const d=new Set,p=new Set;let m=l.storage;if(!m)return t((...n)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),e(...n)},o,s);const i=()=>{const n=l.partialize({...o()});return m.setItem(l.name,{state:n,version:l.version})},S=s.setState;s.setState=(n,h)=>{S(n,h),i()};const v=t((...n)=>{e(...n),i()},o,s);s.getInitialState=()=>v;let f;const x=()=>{var n,h;if(!m)return;y=!1,d.forEach(c=>{var g;return c((g=o())!=null?g:v)});const u=((h=l.onRehydrateStorage)==null?void 0:h.call(l,(n=o())!=null?n:v))||void 0;return N(m.getItem.bind(m))(l.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==l.version){if(l.migrate){const g=l.migrate(c.state,c.version);return g instanceof Promise?g.then(I=>[!0,I]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var g;const[I,B]=c;if(f=l.merge(B,(g=o())!=null?g:v),e(f,!0),I)return i()}).then(()=>{u==null||u(f,void 0),f=o(),y=!0,p.forEach(c=>c(f))}).catch(c=>{u==null||u(void 0,c)})};return s.persist={setOptions:n=>{l={...l,...n},n.storage&&(m=n.storage)},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>y,onHydrate:n=>(d.add(n),()=>{d.delete(n)}),onFinishHydration:n=>(p.add(n),()=>{p.delete(n)})},l.skipHydration||x(),f||v},de=le,ue=t=>({session:null,setSession:r=>t({session:r},!1,"setSession"),resetSession:()=>t({session:null},!1,"resetSession")}),me=de(ue,{name:"session"}),fe=ae(me,{name:"Session Service"}),E=te()(fe);function he(t){return re(E,t)}const D=[{href:"/",text:"홈"},{href:"/recipes",text:"레시피"},{href:"/milfap",text:"밀프랩"},{href:"/recipes/disease",text:"질환별 식단"}];function pe(){const t=he(r=>!!r.session);return a.jsx("header",{className:"border-b border-b-border px-8 py-4",children:a.jsx($,{children:a.jsxs("nav",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex items-center gap-x-8",children:[a.jsx(_,{href:"/","aria-label":"홈으로 이동",children:a.jsx(T,{className:"invert",src:"/vercel.svg",alt:"",width:32,height:32})}),a.jsx("ul",{className:"hidden list-none items-center gap-x-8 lg:flex",children:D.map(({href:r,text:e})=>a.jsx("li",{children:a.jsx(k,{href:r,children:e})},r))})]}),a.jsx("div",{className:"hidden lg:flex",children:a.jsx(C,{asChild:!0,children:a.jsx(_,{href:t?"/auth/logout":"/auth/login",children:t?"로그아웃":"로그인"})})}),a.jsx("div",{className:"flex lg:hidden",children:a.jsxs(G,{children:[a.jsx(K,{asChild:!0,children:a.jsxs(C,{size:"icon",children:[a.jsx("span",{className:"sr-only",children:"메뉴 오픈"}),a.jsx(V,{"aria-hidden":!0})]})}),a.jsx(X,{children:a.jsxs(W,{children:[a.jsx(Y,{children:a.jsx(_,{href:"/","aria-label":"홈으로 이동",children:a.jsx(T,{className:"invert",src:"/vercel.svg",alt:"",width:32,height:32})})}),a.jsx(q,{children:a.jsx("ul",{className:"mt-8 flex list-none flex-col items-start gap-y-4",children:D.map(({href:r,text:e})=>a.jsx("li",{children:a.jsx(k,{href:r,children:e})},r))})})]})})]})})]})})})}function k({href:t,children:r}){const o=M().pathname===t;return a.jsx(_,{href:t,className:Q("px-1","text-sm font-medium","transition-colors","border-b-2 border-transparent",{"border-b-foreground text-foreground":o,"text-muted-foreground hover:border-b-foreground hover:text-foreground":!o}),"aria-current":o?"page":void 0,children:r})}const Pe={title:"widgets/Header",component:pe,parameters:{layout:"fullscreen",nextjs:{router:{pathname:"/recipes"}}},tags:["autodocs"]},b={beforeEach:()=>{U().push.mockImplementation(t=>{t==="/auth/login"?E.setState({session:{email:"test@test.com",name:"test"}}):t==="/auth/logout"&&E.setState({session:null})})},play:async({canvasElement:t})=>{const e=F(t).getByRole("banner");await z(e).toBeInTheDocument()}};var L,J,H,P,A;b.parameters={...b.parameters,docs:{...(L=b.parameters)==null?void 0:L.docs,source:{originalSource:`{
  beforeEach: () => {
    getRouter().push.mockImplementation(href => {
      if (href === '/auth/login') {
        sessionStore.setState({
          session: {
            email: 'test@test.com',
            name: 'test'
          }
        });
      } else if (href === '/auth/logout') {
        sessionStore.setState({
          session: null
        });
      }
    });
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const header = canvas.getByRole('banner');
    await expect(header).toBeInTheDocument();
  }
}`,...(H=(J=b.parameters)==null?void 0:J.docs)==null?void 0:H.source},description:{story:`기본 헤더 컴포넌트입니다.<br />
로그인하지 않은 상태에서는 로그인 버튼이 표시됩니다.`,...(A=(P=b.parameters)==null?void 0:P.docs)==null?void 0:A.description}}};const Ae=["Default"];export{b as Default,Ae as __namedExportsOrder,Pe as default};
