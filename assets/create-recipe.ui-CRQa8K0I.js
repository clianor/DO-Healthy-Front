import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{z as t,F as C,a as l,b as o,c as m,d as a,f as i,t as z}from"./index-C6si8OIY.js";import{u as k,a as u,b}from"./index.esm-DgZpH6ar.js";import{B as h}from"./button.ui-CCnMz6ch.js";import{I as c}from"./input.ui-Croae_oO.js";import{L as f}from"./label.ui-J_JczIqu.js";import{T as y}from"./textarea.ui-Dy2PMZj1.js";import{c as _}from"./createLucideIcon-B2mkThYZ.js";import{X as v}from"./x-DuZhaump.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=_("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),S=t.object({name:t.string().trim().min(1,{message:"재료 이름을 입력해주세요"}),quantity:t.string().trim().min(1,{message:"재료 양을 입력해주세요"})}),F=t.object({content:t.string().trim().min(1,{message:"단계 설명을 입력해주세요"}),image:t.string().trim().url({message:"이미지를 선택해주세요"})}),A=t.object({title:t.string().trim().min(1,{message:"레시피 제목을 입력해주세요"}).default(""),thumbnail:t.string().trim().url({message:"이미지를 선택해주세요"}).default(""),cookingTime:t.number({invalid_type_error:"올바른 값을 입력해주세요",required_error:"레시피 소요 시간을 입력해주세요"}).min(0,{message:"레시피 소요 시간을 입력해주세요"}),calories:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).min(0,{message:"칼로리를 입력해주세요"}).optional(),servings:t.number({invalid_type_error:"올바른 값을 입력해주세요",required_error:"분량을 입력해주세요"}).min(0,{message:"분량을 입력해주세요"}),description:t.string().trim().min(1,{message:"레시피에 대한 소개를 입력해주세요"}).default(""),tags:t.array(t.string().trim()).default([]),ingredients:t.array(S),cookingSteps:t.array(F),carbohydrate:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).optional(),protein:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).optional(),fat:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).optional(),sodium:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).optional()});function D(){const r=k({resolver:z(A),defaultValues:{ingredients:[{name:"",quantity:""}],cookingSteps:[{content:"",image:""}]}});return e.jsx(C,{...r,children:e.jsxs("form",{className:"flex flex-col gap-y-4",onSubmit:r.handleSubmit(console.log),children:[e.jsx(l,{control:r.control,name:"title",render:({field:s})=>e.jsxs(o,{children:[e.jsx(m,{children:"레시피 제목"}),e.jsx(a,{children:e.jsx(c,{size:"lg",placeholder:"레시피 제목을 입력하세요",...s})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"thumbnail",render:({field:s})=>e.jsxs(o,{children:[e.jsx(m,{children:"대표 이미지"}),e.jsx(a,{children:e.jsx(c,{type:"file",accept:"image/*",...s})}),e.jsx(i,{})]})}),e.jsxs("fieldset",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[e.jsx(l,{control:r.control,name:"cookingTime",render:({field:s})=>e.jsxs(o,{children:[e.jsx(m,{children:"조리시간"}),e.jsx(a,{children:e.jsx(c,{type:"number",min:0,size:"lg",placeholder:"예: 30분",...s,onChange:n=>s.onChange(n.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"calories",render:({field:s})=>e.jsxs(o,{children:[e.jsx(m,{children:"칼로리"}),e.jsx(a,{children:e.jsx(c,{type:"number",min:0,size:"lg",placeholder:"예: 300kcal",...s,onChange:n=>s.onChange(n.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"servings",render:({field:s})=>e.jsxs(o,{children:[e.jsx(m,{children:"분량"}),e.jsx(a,{children:e.jsx(c,{type:"number",min:0,size:"lg",placeholder:"예: 2인분",...s,onChange:n=>s.onChange(n.target.valueAsNumber)})}),e.jsx(i,{})]})})]}),e.jsx(l,{control:r.control,name:"description",render:({field:s})=>e.jsxs(o,{children:[e.jsx(m,{children:"요리 소개"}),e.jsx(a,{children:e.jsx(y,{className:"h-24 resize-none",placeholder:"요리에 대한 간단한 소개를 입력하세요",...s})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"tags",render:({field:s})=>e.jsxs(o,{children:[e.jsx(m,{children:"태그"}),e.jsx(a,{children:e.jsx(c,{size:"lg",placeholder:"태그를 입력하세요 (쉼표로 구분)",...s})}),e.jsx(i,{})]})}),e.jsxs("fieldset",{className:"flex flex-col gap-y-4",children:[e.jsx(f,{asChild:!0,children:e.jsx("legend",{className:"mb-2",children:"재료"})}),e.jsx(I,{})]}),e.jsxs("fieldset",{className:"flex flex-col gap-y-4",children:[e.jsx(f,{asChild:!0,children:e.jsx("legend",{className:"mb-2",children:"조리 순서"})}),e.jsx(L,{})]}),e.jsxs("fieldset",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4",children:[e.jsx("legend",{className:"mb-1 text-sm font-bold leading-none",children:"영양 정보"}),e.jsx(l,{control:r.control,name:"carbohydrate",render:({field:s})=>e.jsxs(o,{className:"flex-1",children:[e.jsx(m,{children:"탄수화물"}),e.jsx(a,{children:e.jsx(c,{type:"number",size:"lg",placeholder:"g",...s,onChange:n=>s.onChange(n.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"protein",render:({field:s})=>e.jsxs(o,{className:"flex-1",children:[e.jsx(m,{children:"단백질"}),e.jsx(a,{children:e.jsx(c,{type:"number",size:"lg",placeholder:"g",...s,onChange:n=>s.onChange(n.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"fat",render:({field:s})=>e.jsxs(o,{className:"flex-1",children:[e.jsx(m,{children:"지방"}),e.jsx(a,{children:e.jsx(c,{type:"number",size:"lg",placeholder:"g",...s,onChange:n=>s.onChange(n.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(l,{control:r.control,name:"sodium",render:({field:s})=>e.jsxs(o,{className:"flex-1",children:[e.jsx(m,{children:"나트륨"}),e.jsx(a,{children:e.jsx(c,{type:"number",size:"lg",placeholder:"mg",...s,onChange:n=>s.onChange(n.target.valueAsNumber)})}),e.jsx(i,{})]})})]}),e.jsxs("div",{className:"flex justify-end gap-x-4",children:[e.jsx(h,{type:"button",size:"lg",variant:"outline",children:"임시 저장"}),e.jsx(h,{size:"lg",type:"submit",children:"작성 완료"})]})]})})}function I(){const r=u(),{fields:s,append:n,remove:d}=b({control:r.control,name:"ingredients"}),g=()=>n({name:"",amount:""}),p=x=>{d(x),s.length===1&&n({name:"",amount:""})};return e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"flex flex-col gap-y-4",children:s.map((x,j)=>e.jsx(R,{step:j,onRemove:()=>p(j)},x.id))}),e.jsxs(h,{type:"button",variant:"ghost",onClick:g,children:[e.jsx(N,{"aria-hidden":!0}),"재료 추가"]})]})}function R({step:r,onRemove:s}){const n=u();return e.jsxs("div",{className:"flex items-start gap-x-4",children:[e.jsxs("div",{className:"flex flex-1 items-start gap-x-4",children:[e.jsx(l,{control:n.control,name:`ingredients.${r}.name`,render:({field:d})=>e.jsxs(o,{className:"flex-1",children:[e.jsx(a,{children:e.jsx(c,{size:"lg",placeholder:"재료명",...d})}),e.jsx(i,{})]})}),e.jsx(l,{control:n.control,name:`ingredients.${r}.amount`,render:({field:d})=>e.jsxs(o,{children:[e.jsx(a,{children:e.jsx(c,{type:"number",className:"w-32",size:"lg",placeholder:"수량",...d,onChange:g=>d.onChange(g.target.valueAsNumber)})}),e.jsx(i,{})]})})]}),e.jsxs(h,{type:"button",variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-accent-foreground",onClick:s,children:[e.jsx("span",{className:"sr-only",children:"삭제"}),e.jsx(v,{"aria-hidden":!0})]})]})}function L(){const r=u(),{fields:s,append:n,remove:d}=b({control:r.control,name:"cookingSteps"}),g=()=>n({content:"",image:""}),p=x=>{d(x),s.length===1&&n({content:"",image:""})};return e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"flex flex-col gap-y-4",children:s.map((x,j)=>e.jsx(q,{step:j,onRemove:()=>p(j)},x.id))}),e.jsxs(h,{type:"button",variant:"ghost",onClick:g,children:[e.jsx(N,{"aria-hidden":!0}),"순서 추가"]})]})}function q({step:r,onRemove:s}){const n=u();return e.jsxs("div",{className:"flex items-start gap-x-4",children:[e.jsx("div",{className:"flex h-6 w-6 select-none items-center justify-center rounded-full bg-primary text-primary-foreground",children:r+1}),e.jsxs("div",{className:"flex flex-1 flex-col gap-y-2",children:[e.jsx(l,{control:n.control,name:`cookingSteps.${r}.content`,render:({field:d})=>e.jsxs(o,{children:[e.jsx(a,{children:e.jsx(y,{placeholder:"조리법을 입력하세요",className:"min-h-[100px] resize-none",...d})}),e.jsx(i,{})]})}),e.jsx(l,{control:n.control,name:`cookingSteps.${r}.image`,render:({field:d})=>e.jsxs(o,{children:[e.jsx(a,{children:e.jsx(c,{type:"file",accept:"image/*",...d})}),e.jsx(i,{})]})})]}),e.jsxs(h,{type:"button",variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-accent-foreground",onClick:s,children:[e.jsx("span",{className:"sr-only",children:"삭제"}),e.jsx(v,{"aria-hidden":!0})]})]})}export{D as C};
