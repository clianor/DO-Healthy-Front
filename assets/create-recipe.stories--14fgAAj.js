import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{z as t,F as A,a as o,b as a,c as d,d as l,f as i,t as I}from"./index-C6si8OIY.js";import{u as R,a as u,b as _}from"./index.esm-DgZpH6ar.js";import{B as h}from"./button.ui-CCnMz6ch.js";import{I as c}from"./input.ui-DCJB7S0U.js";import{L as y}from"./label.ui-J_JczIqu.js";import{T as k}from"./textarea.ui-Dy2PMZj1.js";import{c as L}from"./createLucideIcon-B2mkThYZ.js";import{X as S}from"./x-DuZhaump.js";import"./index-BAi9YrL4.js";import"./index-B1GeB8Nz.js";import"./cn-CytzSlOG.js";import"./index-DVF2XGCm.js";import"./index-Bi9wok0D.js";import"./index-DyFja7G4.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),q=t.object({name:t.string().trim().min(1,{message:"재료 이름을 입력해주세요"}),quantity:t.string().trim().min(1,{message:"재료 양을 입력해주세요"})}),T=t.object({content:t.string().trim().min(1,{message:"단계 설명을 입력해주세요"}),image:t.string().trim().url({message:"이미지를 선택해주세요"})}),$=t.object({title:t.string().trim().min(1,{message:"레시피 제목을 입력해주세요"}).default(""),thumbnail:t.string().trim().url({message:"이미지를 선택해주세요"}).default(""),cookingTime:t.number({invalid_type_error:"올바른 값을 입력해주세요",required_error:"레시피 소요 시간을 입력해주세요"}).min(0,{message:"레시피 소요 시간을 입력해주세요"}),calories:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).min(0,{message:"칼로리를 입력해주세요"}).optional(),servings:t.number({invalid_type_error:"올바른 값을 입력해주세요",required_error:"분량을 입력해주세요"}).min(0,{message:"분량을 입력해주세요"}),description:t.string().trim().min(1,{message:"레시피에 대한 소개를 입력해주세요"}).default(""),tags:t.array(t.string().trim()).default([]),ingredients:t.array(q),cookingSteps:t.array(T),carbohydrate:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).optional(),protein:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).optional(),fat:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).optional(),sodium:t.number({invalid_type_error:"올바른 값을 입력해주세요"}).optional()});function M(){const n=R({resolver:I($),defaultValues:{ingredients:[{name:"",quantity:""}],cookingSteps:[{content:"",image:""}]}});return e.jsx(A,{...n,children:e.jsxs("form",{className:"flex flex-col gap-y-4",onSubmit:n.handleSubmit(console.log),children:[e.jsx(o,{control:n.control,name:"title",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{children:"레시피 제목"}),e.jsx(l,{children:e.jsx(c,{size:"lg",placeholder:"레시피 제목을 입력하세요",...s})}),e.jsx(i,{})]})}),e.jsx(o,{control:n.control,name:"thumbnail",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{children:"대표 이미지"}),e.jsx(l,{children:e.jsx(c,{type:"file",accept:"image/*",...s})}),e.jsx(i,{})]})}),e.jsxs("fieldset",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:[e.jsx(o,{control:n.control,name:"cookingTime",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{children:"조리시간"}),e.jsx(l,{children:e.jsx(c,{type:"number",min:0,size:"lg",placeholder:"예: 30분",...s,onChange:r=>s.onChange(r.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(o,{control:n.control,name:"calories",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{children:"칼로리"}),e.jsx(l,{children:e.jsx(c,{type:"number",min:0,size:"lg",placeholder:"예: 300kcal",...s,onChange:r=>s.onChange(r.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(o,{control:n.control,name:"servings",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{children:"분량"}),e.jsx(l,{children:e.jsx(c,{type:"number",min:0,size:"lg",placeholder:"예: 2인분",...s,onChange:r=>s.onChange(r.target.valueAsNumber)})}),e.jsx(i,{})]})})]}),e.jsx(o,{control:n.control,name:"description",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{children:"요리 소개"}),e.jsx(l,{children:e.jsx(k,{className:"h-24 resize-none",placeholder:"요리에 대한 간단한 소개를 입력하세요",...s})}),e.jsx(i,{})]})}),e.jsx(o,{control:n.control,name:"tags",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{children:"태그"}),e.jsx(l,{children:e.jsx(c,{size:"lg",placeholder:"태그를 입력하세요 (쉼표로 구분)",...s})}),e.jsx(i,{})]})}),e.jsxs("fieldset",{className:"flex flex-col gap-y-4",children:[e.jsx(y,{asChild:!0,children:e.jsx("legend",{className:"mb-2",children:"재료"})}),e.jsx(w,{})]}),e.jsxs("fieldset",{className:"flex flex-col gap-y-4",children:[e.jsx(y,{asChild:!0,children:e.jsx("legend",{className:"mb-2",children:"조리 순서"})}),e.jsx(D,{})]}),e.jsxs("fieldset",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-4",children:[e.jsx("legend",{className:"mb-1 text-sm font-bold leading-none",children:"영양 정보"}),e.jsx(o,{control:n.control,name:"carbohydrate",render:({field:s})=>e.jsxs(a,{className:"flex-1",children:[e.jsx(d,{children:"탄수화물"}),e.jsx(l,{children:e.jsx(c,{type:"number",size:"lg",placeholder:"g",...s,onChange:r=>s.onChange(r.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(o,{control:n.control,name:"protein",render:({field:s})=>e.jsxs(a,{className:"flex-1",children:[e.jsx(d,{children:"단백질"}),e.jsx(l,{children:e.jsx(c,{type:"number",size:"lg",placeholder:"g",...s,onChange:r=>s.onChange(r.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(o,{control:n.control,name:"fat",render:({field:s})=>e.jsxs(a,{className:"flex-1",children:[e.jsx(d,{children:"지방"}),e.jsx(l,{children:e.jsx(c,{type:"number",size:"lg",placeholder:"g",...s,onChange:r=>s.onChange(r.target.valueAsNumber)})}),e.jsx(i,{})]})}),e.jsx(o,{control:n.control,name:"sodium",render:({field:s})=>e.jsxs(a,{className:"flex-1",children:[e.jsx(d,{children:"나트륨"}),e.jsx(l,{children:e.jsx(c,{type:"number",size:"lg",placeholder:"mg",...s,onChange:r=>s.onChange(r.target.valueAsNumber)})}),e.jsx(i,{})]})})]}),e.jsxs("div",{className:"flex justify-end gap-x-4",children:[e.jsx(h,{type:"button",size:"lg",variant:"outline",children:"임시 저장"}),e.jsx(h,{size:"lg",type:"submit",children:"작성 완료"})]})]})})}function w(){const n=u(),{fields:s,append:r,remove:m}=_({control:n.control,name:"ingredients"}),g=()=>r({name:"",amount:""}),f=x=>{m(x),s.length===1&&r({name:"",amount:""})};return e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"flex flex-col gap-y-4",children:s.map((x,j)=>e.jsx(B,{step:j,onRemove:()=>f(j)},x.id))}),e.jsxs(h,{type:"button",variant:"ghost",onClick:g,children:[e.jsx(F,{"aria-hidden":!0}),"재료 추가"]})]})}function B({step:n,onRemove:s}){const r=u();return e.jsxs("div",{className:"flex items-start gap-x-4",children:[e.jsxs("div",{className:"flex flex-1 items-start gap-x-4",children:[e.jsx(o,{control:r.control,name:`ingredients.${n}.name`,render:({field:m})=>e.jsxs(a,{className:"flex-1",children:[e.jsx(l,{children:e.jsx(c,{size:"lg",placeholder:"재료명",...m})}),e.jsx(i,{})]})}),e.jsx(o,{control:r.control,name:`ingredients.${n}.amount`,render:({field:m})=>e.jsxs(a,{children:[e.jsx(l,{children:e.jsx(c,{type:"number",className:"w-32",size:"lg",placeholder:"수량",...m,onChange:g=>m.onChange(g.target.valueAsNumber)})}),e.jsx(i,{})]})})]}),e.jsxs(h,{type:"button",variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-accent-foreground",onClick:s,children:[e.jsx("span",{className:"sr-only",children:"삭제"}),e.jsx(S,{"aria-hidden":!0})]})]})}function D(){const n=u(),{fields:s,append:r,remove:m}=_({control:n.control,name:"cookingSteps"}),g=()=>r({content:"",image:""}),f=x=>{m(x),s.length===1&&r({content:"",image:""})};return e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"flex flex-col gap-y-4",children:s.map((x,j)=>e.jsx(E,{step:j,onRemove:()=>f(j)},x.id))}),e.jsxs(h,{type:"button",variant:"ghost",onClick:g,children:[e.jsx(F,{"aria-hidden":!0}),"순서 추가"]})]})}function E({step:n,onRemove:s}){const r=u();return e.jsxs("div",{className:"flex items-start gap-x-4",children:[e.jsx("div",{className:"flex h-6 w-6 select-none items-center justify-center rounded-full bg-primary text-primary-foreground",children:n+1}),e.jsxs("div",{className:"flex flex-1 flex-col gap-y-2",children:[e.jsx(o,{control:r.control,name:`cookingSteps.${n}.content`,render:({field:m})=>e.jsxs(a,{children:[e.jsx(l,{children:e.jsx(k,{placeholder:"조리법을 입력하세요",className:"min-h-[100px] resize-none",...m})}),e.jsx(i,{})]})}),e.jsx(o,{control:r.control,name:`cookingSteps.${n}.image`,render:({field:m})=>e.jsxs(a,{children:[e.jsx(l,{children:e.jsx(c,{type:"file",accept:"image/*",...m})}),e.jsx(i,{})]})})]}),e.jsxs(h,{type:"button",variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-accent-foreground",onClick:s,children:[e.jsx("span",{className:"sr-only",children:"삭제"}),e.jsx(S,{"aria-hidden":!0})]})]})}const re={title:"features/CreateRecipeForm",component:M,parameters:{layout:"fullscreen"},tags:["autodocs"]},p={};var b,v,N,C,z;p.parameters={...p.parameters,docs:{...(b=p.parameters)==null?void 0:b.docs,source:{originalSource:"{}",...(N=(v=p.parameters)==null?void 0:v.docs)==null?void 0:N.source},description:{story:"새로운 레시피를 생성하기 위한 폼을 표시합니다.",...(z=(C=p.parameters)==null?void 0:C.docs)==null?void 0:z.description}}};const ne=["Default"];export{p as Default,ne as __namedExportsOrder,re as default};
