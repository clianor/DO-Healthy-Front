import{r as oe,g as ae}from"./index-B1GeB8Nz.js";import{r as ue,_ as fe}from"./image-context-Cqjqifin.js";import{j as de}from"./jsx-runtime-BjG_zV1W.js";import{r as pe,a as he,b as be,c as me,d as ve,e as ge,f as ye,g as _e}from"./add-base-path-RabrT8BY.js";import{r as ke}from"./image-ChyQtvS6.js";var V={exports:{}},S={exports:{}},re;function Le(){return re||(re=1,function(O,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useIntersection",{enumerable:!0,get:function(){return N}});const y=oe,E=pe(),c=typeof IntersectionObserver=="function",C=new Map,M=[];function A(d){const l={root:d.root||null,margin:d.rootMargin||""},_=M.find(u=>u.root===l.root&&u.margin===l.margin);let i;if(_&&(i=C.get(_),i))return i;const h=new Map,a=new IntersectionObserver(u=>{u.forEach(p=>{const k=h.get(p.target),j=p.isIntersecting||p.intersectionRatio>0;k&&j&&k(j)})},d);return i={id:l,observer:a,elements:h},M.push(l),C.set(l,i),i}function H(d,l,_){const{id:i,observer:h,elements:a}=A(_);return a.set(d,l),h.observe(d),function(){if(a.delete(d),h.unobserve(d),a.size===0){h.disconnect(),C.delete(i);const p=M.findIndex(k=>k.root===i.root&&k.margin===i.margin);p>-1&&M.splice(p,1)}}}function N(d){let{rootRef:l,rootMargin:_,disabled:i}=d;const h=i||!c,[a,u]=(0,y.useState)(!1),p=(0,y.useRef)(null),k=(0,y.useCallback)(R=>{p.current=R},[]);(0,y.useEffect)(()=>{if(c){if(h||a)return;const R=p.current;if(R&&R.tagName)return H(R,r=>r&&u(r),{root:l==null?void 0:l.current,rootMargin:_})}else if(!a){const R=(0,E.requestIdleCallback)(()=>u(!0));return()=>(0,E.cancelIdleCallback)(R)}},[h,_,l,a,p.current]);const j=(0,y.useCallback)(()=>{u(!1)},[]);return[k,a,j]}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),O.exports=e.default)}(S,S.exports)),S.exports}var w={exports:{}},ne;function Pe(){return ne||(ne=1,function(O,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getDomainLocale",{enumerable:!0,get:function(){return y}}),he();function y(E,c,C,M){return!1}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),O.exports=e.default)}(w,w.exports)),w.exports}(function(O,e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return B}});const y=fe,E=de,c=y._(oe),C=be(),M=me(),A=ve(),H=ge(),N=ye(),d=ue,l=Le(),_=Pe(),i=_e(),h=ke(),a=new Set;function u(r,v,b,s){if(!(typeof window>"u")&&(0,M.isLocalURL)(v)){if(!s.bypassPrefetchedCheck){const L=typeof s.locale<"u"?s.locale:"locale"in r?r.locale:void 0,g=v+"%"+b+"%"+L;if(a.has(g))return;a.add(g)}r.prefetch(v,b,s).catch(L=>{})}}function p(r){const b=r.currentTarget.getAttribute("target");return b&&b!=="_self"||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||r.nativeEvent&&r.nativeEvent.which===2}function k(r,v,b,s,L,g,U,K){const{nodeName:x}=r.currentTarget;if(x.toUpperCase()==="A"&&(p(r)||!(0,M.isLocalURL)(b)))return;r.preventDefault(),(()=>{const D=U??!0;"beforePopState"in v?v[L?"replace":"push"](b,s,{shallow:g,locale:K,scroll:D}):v[L?"replace":"push"](s||b,{scroll:D})})()}function j(r){return typeof r=="string"?r:(0,A.formatUrl)(r)}const B=c.default.forwardRef(function(v,b){let s;const{href:L,as:g,children:U,prefetch:K=null,passHref:x,replace:z,shallow:F,scroll:D,locale:q,onClick:G,onMouseEnter:$,onTouchStart:W,legacyBehavior:m=!1,...se}=v;s=U,m&&(typeof s=="string"||typeof s=="number")&&(s=(0,E.jsx)("a",{children:s}));const t=c.default.useContext(d.RouterContext),J=K!==!1,{href:P,as:f}=c.default.useMemo(()=>{if(!t){const te=j(L);return{href:te,as:g?j(g):te}}const[o,I]=(0,C.resolveHref)(t,L,!0);return{href:o,as:g?(0,C.resolveHref)(t,g):I||o}},[t,L,g]),Q=c.default.useRef(P),X=c.default.useRef(f);let n;m&&(n=c.default.Children.only(s));const ie=m?n&&typeof n=="object"&&n.ref:b,[Y,Z,ee]=(0,l.useIntersection)({rootMargin:"200px"}),ce=c.default.useCallback(o=>{(X.current!==f||Q.current!==P)&&(ee(),X.current=f,Q.current=P),Y(o)},[f,P,ee,Y]),le=(0,h.useMergedRef)(ce,ie);c.default.useEffect(()=>{t&&(!Z||!J||u(t,P,f,{locale:q}))},[f,P,Z,q,J,t==null?void 0:t.locale,t]);const T={ref:le,onClick(o){!m&&typeof G=="function"&&G(o),m&&n.props&&typeof n.props.onClick=="function"&&n.props.onClick(o),t&&(o.defaultPrevented||k(o,t,P,f,z,F,D,q))},onMouseEnter(o){!m&&typeof $=="function"&&$(o),m&&n.props&&typeof n.props.onMouseEnter=="function"&&n.props.onMouseEnter(o),t&&u(t,P,f,{locale:q,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(I){!m&&typeof W=="function"&&W(I),m&&n.props&&typeof n.props.onTouchStart=="function"&&n.props.onTouchStart(I),t&&u(t,P,f,{locale:q,priority:!0,bypassPrefetchedCheck:!0})}};if((0,H.isAbsoluteUrl)(f))T.href=f;else if(!m||x||n.type==="a"&&!("href"in n.props)){const o=typeof q<"u"?q:t==null?void 0:t.locale,I=(t==null?void 0:t.isLocaleDomain)&&(0,_.getDomainLocale)(f,o,t==null?void 0:t.locales,t==null?void 0:t.domainLocales);T.href=I||(0,i.addBasePath)((0,N.addLocale)(f,o,t==null?void 0:t.defaultLocale))}return m?c.default.cloneElement(n,T):(0,E.jsx)("a",{...se,...T,children:s})});(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),O.exports=e.default)})(V,V.exports);var Me=V.exports,Re=Me;const Oe=ae(Re);export{Oe as L};
